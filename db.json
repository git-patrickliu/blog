{"meta":{"version":1,"warehouse":"1.0.2"},"models":{"Asset":[{"_id":"themes/light/source/js/jquery.imagesloaded.min.js","path":"js/jquery.imagesloaded.min.js","modified":0},{"_id":"themes/light/source/js/gallery.js","path":"js/gallery.js","modified":0},{"_id":"themes/light/source/fancybox/jquery.fancybox.pack.js","path":"fancybox/jquery.fancybox.pack.js","modified":0},{"_id":"themes/light/source/fancybox/jquery.fancybox.css","path":"fancybox/jquery.fancybox.css","modified":0},{"_id":"themes/light/source/fancybox/fancybox_sprite@2x.png","path":"fancybox/fancybox_sprite@2x.png","modified":0},{"_id":"themes/light/source/fancybox/fancybox_sprite.png","path":"fancybox/fancybox_sprite.png","modified":0},{"_id":"themes/light/source/fancybox/fancybox_overlay.png","path":"fancybox/fancybox_overlay.png","modified":0},{"_id":"themes/light/source/fancybox/fancybox_loading@2x.gif","path":"fancybox/fancybox_loading@2x.gif","modified":0},{"_id":"themes/light/source/fancybox/fancybox_loading.gif","path":"fancybox/fancybox_loading.gif","modified":0},{"_id":"themes/light/source/fancybox/blank.gif","path":"fancybox/blank.gif","modified":0},{"_id":"themes/light/source/css/style.styl","path":"css/style.styl","modified":0},{"_id":"themes/light/source/css/font/fontawesome-webfont.woff","path":"css/font/fontawesome-webfont.woff","modified":0},{"_id":"themes/light/source/css/font/fontawesome-webfont.ttf","path":"css/font/fontawesome-webfont.ttf","modified":0},{"_id":"themes/light/source/css/font/fontawesome-webfont.svg","path":"css/font/fontawesome-webfont.svg","modified":0},{"_id":"themes/light/source/css/font/fontawesome-webfont.eot","path":"css/font/fontawesome-webfont.eot","modified":0},{"_id":"source/CNAME","path":"CNAME","modified":0}],"Cache":[{"_id":"source/404.html","shasum":"34f994dff3b19f8c2e5d81933cf2267bfdd23ac6","modified":1441375066000},{"_id":"source/_posts/duoshuo.md","shasum":"691081d4235098b66b93fcac63f30b4d85b427d3","modified":1441374999000},{"_id":"source/_posts/hello-world.md","shasum":"774b507901d9b17991ace2a70263b6dd6d11999a","modified":1439957215000},{"_id":"source/about/index.md","shasum":"f298db19310c041e8278e54a98172e8b2a19efda","modified":1441375380000},{"_id":"source/_posts/Velocity大会总结.md","shasum":"2357a5ed82389d0c34887bc7a5db8cb3a2c09d8f","modified":1441361459000},{"_id":"source/_posts/reactjs.md","shasum":"1fb98f305b9e0a7d1a82f4286a420545e7f76797","modified":1441361478000},{"_id":"source/CNAME","shasum":"ed3bd37dc79a6f74aa1a5233cf373e2c2d7998d2","modified":1441350127000},{"_id":"themes/light/source/css/_base/utils.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1441349732000},{"_id":"themes/light/LICENSE","shasum":"c6f301bc722f0af3a55267a36c1c147aeddc6e46","modified":1441349732000},{"_id":"themes/light/README.md","shasum":"aa189c7ff03c60d8fceb009f5fca1a61d8a0ecdf","modified":1441349732000},{"_id":"themes/light/_config.yml","shasum":"96db0b287b379eed1257665f5b3a0d893b9f418c","modified":1441362369000},{"_id":"themes/light/languages/de.yml","shasum":"e076c7f2eb29ebcfb04d94861bf3063c4b08078c","modified":1441349732000},{"_id":"themes/light/languages/default.yml","shasum":"fd7397be7789b43c1c163ab4faf106318811c2a8","modified":1441349732000},{"_id":"themes/light/languages/es.yml","shasum":"de273af604b27812cfd4195e7b7f28ceff2734b3","modified":1441349732000},{"_id":"themes/light/languages/ru.yml","shasum":"35aadf8fdd28aaff8a1c8f50e80201dcf8ce0604","modified":1441349732000},{"_id":"themes/light/languages/zh-TW.yml","shasum":"6141b4c7a094c74bd9df7c08908d92b561c1a0c0","modified":1441349732000},{"_id":"themes/light/layout/_partial/archive.ejs","shasum":"7e4f7c2909b1b90241424ea2ff8e7b4761d8360f","modified":1441349732000},{"_id":"themes/light/languages/zh-CN.yml","shasum":"ca0118e9081b54cc0fca8596660bd6acf4c0308f","modified":1441349732000},{"_id":"themes/light/layout/_partial/after_footer.ejs","shasum":"be0905e9fb3730d63685b5db579875538a92de95","modified":1441349732000},{"_id":"themes/light/layout/_partial/comment.ejs","shasum":"95f7687af237e6101fcc86d7d3805ae07ebd95a6","modified":1441359751000},{"_id":"themes/light/layout/_partial/article.ejs","shasum":"2cb04ca5425deaa4cf901bb48a7a9f31b356b967","modified":1441356419000},{"_id":"themes/light/layout/_partial/facebook_comment.ejs","shasum":"3fdc1d0ce9177825e7417635fbc545a35d528d04","modified":1441349732000},{"_id":"themes/light/layout/_partial/footer.ejs","shasum":"1deac5914b2fc93b271732fd4d5cbd0a6f78875f","modified":1441349732000},{"_id":"themes/light/layout/_partial/google_analytics.ejs","shasum":"7cf0d1f93051bda510d49dab7f684b9d7c6ba58f","modified":1441349732000},{"_id":"themes/light/layout/_partial/post/category.ejs","shasum":"be740939c5c2d4ffdbed9557b4e63a590058b476","modified":1441349732000},{"_id":"themes/light/layout/_partial/head.ejs","shasum":"5e110e4b0a2a896a073dfc7739220025b02a4077","modified":1441349732000},{"_id":"themes/light/layout/_partial/post/share.ejs","shasum":"24c04b319f1b19e887c42db961b90a7e0ab26fdc","modified":1441349732000},{"_id":"themes/light/layout/_partial/post/tag.ejs","shasum":"095418df66a27a28cbab16d7cb0d16001b0e23f1","modified":1441349732000},{"_id":"themes/light/layout/_partial/post/title.ejs","shasum":"d7fbc575d35ae68f9045a382c651450e4131f335","modified":1441349732000},{"_id":"themes/light/layout/_partial/sidebar.ejs","shasum":"caf351797a18d03d8ee945ceb9f83785c50c09f9","modified":1441349732000},{"_id":"themes/light/layout/_partial/post/gallery.ejs","shasum":"fafc2501d7e65983b0f5c2b58151ca12e57c0574","modified":1441349732000},{"_id":"themes/light/layout/_partial/pagination.ejs","shasum":"1206b630a07444e8744365f14ddb26095c925ae1","modified":1441349732000},{"_id":"themes/light/layout/_partial/header.ejs","shasum":"d9a99aca97d8b41ed907fbf5b25df05da3ffa4f6","modified":1441349732000},{"_id":"themes/light/layout/_widget/search.ejs","shasum":"55c707f3aa7453c305c41898ad22556edd213830","modified":1441349732000},{"_id":"themes/light/layout/_widget/tag.ejs","shasum":"1914db78bea49c333067d79fe7ad9567d2b08d00","modified":1441349732000},{"_id":"themes/light/layout/_widget/tagcloud.ejs","shasum":"a236c86481196ae43206e056ba78cec14f1ac014","modified":1441349732000},{"_id":"themes/light/layout/archive.ejs","shasum":"a18842e3d719fe3ca9b977a6995f8facc75c8673","modified":1441349732000},{"_id":"themes/light/layout/category.ejs","shasum":"9b740fc33f6f028df60f0bc4312bf3ebd03aa8ea","modified":1441349732000},{"_id":"themes/light/layout/_widget/archive.ejs","shasum":"985fbeb01142b9d526cda8ebc372c1d361d69a6b","modified":1439957215000},{"_id":"themes/light/layout/index.ejs","shasum":"e569d8fe0741a24efb89e44781f9e616da17e036","modified":1441349732000},{"_id":"themes/light/layout/page.ejs","shasum":"70cbc9854655773cc6ba84eecaaf330fed430465","modified":1441349732000},{"_id":"themes/light/layout/post.ejs","shasum":"1173e49244299cf870a78831593153f63829cd68","modified":1441356375000},{"_id":"themes/light/layout/layout.ejs","shasum":"72da76881ebf00e71d7cc196f377e37a17ec7a6f","modified":1441349732000},{"_id":"themes/light/layout/tag.ejs","shasum":"45150a2365768b6b67880193c9264ad2bb4814db","modified":1441349732000},{"_id":"themes/light/source/css/_base/layout.styl","shasum":"1b58c21aa48a8f9f7f811af681ac182dd058e23d","modified":1441349732000},{"_id":"themes/light/source/css/_base/variable.styl","shasum":"6f3ad13e49634dae8cd992bbd598f5ff0b39a816","modified":1441349732000},{"_id":"themes/light/source/css/_partial/archive.styl","shasum":"072e9b8c5ee9acf95ac7cce9c34706d41e412229","modified":1441349732000},{"_id":"themes/light/source/css/_partial/article.styl","shasum":"efb940d038b427786b0a8ca944f4ca02ad6f863f","modified":1441352559000},{"_id":"themes/light/source/css/_partial/comment.styl","shasum":"e7f8c085bfa8c26afc4b2fbc9f2092f4f07aef34","modified":1441349732000},{"_id":"themes/light/source/css/_partial/footer.styl","shasum":"1757872dbdbd09295a625f13e356aa798a8bb308","modified":1441349732000},{"_id":"themes/light/source/css/_partial/header.styl","shasum":"50d36fe0c803cbba69dd57493611466e4d72156e","modified":1441349732000},{"_id":"themes/light/source/css/_partial/index.styl","shasum":"7a8c0ec6ab99a9f8e00c9687aca29d31752424a2","modified":1441349732000},{"_id":"themes/light/source/css/_partial/sidebar.styl","shasum":"a8bf5237d7d2fba66988cfb85a3ae218be8709ae","modified":1441349732000},{"_id":"themes/light/source/css/_partial/syntax.styl","shasum":"8d20eb41b8ba290b6c7d520c4f2d88bb9b51d60e","modified":1441349732000},{"_id":"themes/light/layout/_widget/category.ejs","shasum":"8a2b90dc29661371f060f710668929c3588e15e4","modified":1441349732000},{"_id":"themes/light/layout/_widget/recent_posts.ejs","shasum":"f17d2cb69034acabea4df54f301f80812e7b84a8","modified":1441349732000},{"_id":"themes/light/source/css/font/fontawesome-webfont.woff","shasum":"0612cddf2f835cceffccc88fd194f97367d0b024","modified":1441349732000},{"_id":"themes/light/source/fancybox/blank.gif","shasum":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1441349732000},{"_id":"themes/light/source/fancybox/fancybox_loading.gif","shasum":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1441349732000},{"_id":"themes/light/source/fancybox/fancybox_loading@2x.gif","shasum":"273b123496a42ba45c3416adb027cd99745058b0","modified":1441349732000},{"_id":"themes/light/source/fancybox/fancybox_overlay.png","shasum":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1441349732000},{"_id":"themes/light/source/fancybox/fancybox_sprite.png","shasum":"17df19f97628e77be09c352bf27425faea248251","modified":1441349732000},{"_id":"themes/light/source/fancybox/fancybox_sprite@2x.png","shasum":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1441349732000},{"_id":"themes/light/source/fancybox/jquery.fancybox.css","shasum":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1441349732000},{"_id":"themes/light/source/css/style.styl","shasum":"c03b2520e4a85b981e29516cadc0a365e6500e3d","modified":1441349732000},{"_id":"themes/light/source/css/font/fontawesome-webfont.eot","shasum":"d775f599ff3f23be082e6a9604b4898718923a37","modified":1441349732000},{"_id":"themes/light/source/fancybox/jquery.fancybox.pack.js","shasum":"53360764b429c212f424399384417ccc233bb3be","modified":1441349732000},{"_id":"themes/light/source/js/gallery.js","shasum":"f8a4ba7fb8349cca374a3c69fff9b2bf21f742ed","modified":1441349732000},{"_id":"themes/light/source/js/jquery.imagesloaded.min.js","shasum":"4109837b1f6477bacc6b095a863b1b95b1b3693f","modified":1441349732000},{"_id":"themes/light/source/css/font/fontawesome-webfont.svg","shasum":"d162419c91b8bab3a4fd327c933a0fcf3799c251","modified":1441349732000},{"_id":"themes/light/source/css/font/fontawesome-webfont.ttf","shasum":"a9468f6a1fe965fbcaf5a1bd6c11705e2fc5f84c","modified":1441349732000},{"_id":"public/js/jquery.imagesloaded.min.js","modified":1441375074230,"shasum":"4109837b1f6477bacc6b095a863b1b95b1b3693f"},{"_id":"public/js/gallery.js","modified":1441375074234,"shasum":"f8a4ba7fb8349cca374a3c69fff9b2bf21f742ed"},{"_id":"public/fancybox/jquery.fancybox.pack.js","modified":1441375074237,"shasum":"53360764b429c212f424399384417ccc233bb3be"},{"_id":"public/fancybox/jquery.fancybox.css","modified":1441375074239,"shasum":"5f163444617b6cf267342f06ac166a237bb62df9"},{"_id":"public/fancybox/fancybox_sprite@2x.png","modified":1441375074245,"shasum":"30c58913f327e28f466a00f4c1ac8001b560aed8"},{"_id":"public/fancybox/fancybox_sprite.png","modified":1441375074248,"shasum":"17df19f97628e77be09c352bf27425faea248251"},{"_id":"public/fancybox/fancybox_overlay.png","modified":1441375074250,"shasum":"b3a4ee645ba494f52840ef8412015ba0f465dbe0"},{"_id":"public/fancybox/fancybox_loading@2x.gif","modified":1441375074254,"shasum":"273b123496a42ba45c3416adb027cd99745058b0"},{"_id":"public/fancybox/fancybox_loading.gif","modified":1441375074259,"shasum":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c"},{"_id":"public/fancybox/blank.gif","modified":1441375074268,"shasum":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a"},{"_id":"public/css/style.css","modified":1441375074822,"shasum":"307268ff2e4e741e7625c53acf71d745154ca154"},{"_id":"public/css/font/fontawesome-webfont.woff","modified":1441375074954,"shasum":"0612cddf2f835cceffccc88fd194f97367d0b024"},{"_id":"public/css/font/fontawesome-webfont.ttf","modified":1441375074956,"shasum":"a9468f6a1fe965fbcaf5a1bd6c11705e2fc5f84c"},{"_id":"public/css/font/fontawesome-webfont.svg","modified":1441375074959,"shasum":"d162419c91b8bab3a4fd327c933a0fcf3799c251"},{"_id":"public/css/font/fontawesome-webfont.eot","modified":1441375074965,"shasum":"d775f599ff3f23be082e6a9604b4898718923a37"},{"_id":"public/CNAME","modified":1441375074968,"shasum":"ed3bd37dc79a6f74aa1a5233cf373e2c2d7998d2"},{"_id":"public/404.html","modified":1441375075000,"shasum":"cbc7289a2686f4854a280261cdde25a4e46a256b"},{"_id":"public/about/index.html","modified":1441375422197,"shasum":"f17cbb622fabed7e010038109bdfa6c30f9d7e70"},{"_id":"public/2015/09/04/duoshuo/index.html","modified":1441375075032,"shasum":"552a392fa31efbf091e64ece6f1777966bce8c99"},{"_id":"public/2015/08/19/Velocity大会总结/index.html","modified":1441375075045,"shasum":"f3d05f3c3c08dd9c435f1b7391d06b2bbd4c1895"},{"_id":"public/2015/08/19/reactjs/index.html","modified":1441375075060,"shasum":"9da3d9f4a82c73e67ed254545f604042368d3382"},{"_id":"public/2015/08/19/hello-world/index.html","modified":1441375075085,"shasum":"15b7f1446d3affbae64a98565e26c1233ce68277"},{"_id":"public/archives/index.html","modified":1441375075097,"shasum":"860e67e4ade0e1d70869a7d395f16b38c200a665"},{"_id":"public/archives/2015/index.html","modified":1441375075106,"shasum":"d45f97463b9385627e809faded13478bc3f6129f"},{"_id":"public/archives/2015/08/index.html","modified":1441375075117,"shasum":"10c6f8114bb202653dc8d4a2568da9de66e306fe"},{"_id":"public/archives/2015/09/index.html","modified":1441375075126,"shasum":"8dc6d7d145095be998b1c1f476e6ce28a4e0f7e1"},{"_id":"public/atom.xml","modified":1441375075128,"shasum":"6d62a5051d677db2c66405e969d368cabefff823"},{"_id":"public/index.html","modified":1441375075145,"shasum":"e436677751059d789e65041982ad2b4d2e6fead8"},{"_id":"public/sitemap.xml","modified":1441375422315,"shasum":"fe560ac62afc068ea8975fdf17e4d93e1f5b2782"},{"_id":"public/tags/reactjs/index.html","modified":1441375075158,"shasum":"4944390b7626a2a507190ca92fd127a98d6b94fe"},{"_id":"public/tags/多说/index.html","modified":1441375075166,"shasum":"bab7cdc163ff957196ef3bc697dd0fbf8200dcc6"},{"_id":"public/tags/velocity/index.html","modified":1441375075175,"shasum":"48b6c960366fb35cb51df167391ef84394de553e"}],"Category":[],"Data":[],"Page":[{"_content":"<!DOCTYPE html>\n<html>\n<head lang=\"en\">\n    <meta charset=\"UTF-8\">\n    <title></title>\n</head>\n<body>\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homePageUrl=\"http://blog.dapenggaofei.com\" homePageName=\"回到我的主页\"></script>\n</body>\n</html>\n","source":"404.html","raw":"<!DOCTYPE html>\n<html>\n<head lang=\"en\">\n    <meta charset=\"UTF-8\">\n    <title></title>\n</head>\n<body>\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homePageUrl=\"http://blog.dapenggaofei.com\" homePageName=\"回到我的主页\"></script>\n</body>\n</html>\n","date":"2015-09-04T13:57:46.000Z","updated":"2015-09-04T13:57:46.000Z","path":"404.html","title":"","comments":1,"layout":"page","_id":"cie5pi4qk0000kkb9xiu11oqi"},{"title":"about me","date":"2015-09-04T13:52:08.000Z","_content":"\n单飞企鹅，现工作在方付通:)\n\n\n","source":"about/index.md","raw":"title: about me\ndate: 2015-09-04 21:52:08\n---\n\n单飞企鹅，现工作在方付通:)\n\n\n","updated":"2015-09-04T14:03:00.000Z","path":"about/index.html","_id":"cie5pi4r80001kkb9izwoktjt","comments":1,"layout":"page"}],"Post":[{"title":"reactjs","date":"2015-08-19T11:51:16.000Z","_content":"","source":"_posts/reactjs.md","raw":"title: reactjs\ndate: 2015-08-19 19:51:16\ntags: reactjs\n---\n","slug":"reactjs","published":1,"updated":"2015-09-04T10:11:18.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cie5pi4rb0002kkb9eo9sds5j"},{"title":"Hello World","_content":"Welcome to [Hexo](http://hexo.io/)! This is your very first post. Check [documentation](http://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](http://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](http://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](http://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](http://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](http://hexo.io/docs/deployment.html)\n","source":"_posts/hello-world.md","raw":"title: Hello World\n---\nWelcome to [Hexo](http://hexo.io/)! This is your very first post. Check [documentation](http://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](http://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](http://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](http://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](http://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](http://hexo.io/docs/deployment.html)\n","slug":"hello-world","published":1,"date":"2015-08-19T04:06:55.000Z","updated":"2015-08-19T04:06:55.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cie5pi4rj0005kkb93vwyq2z6"},{"title":"接入多说评论","date":"2015-09-04T09:22:16.000Z","_content":"\n我这个blog是基于[hexo](http://hexo.io)构建的，是纯静态html的。所以评论就是一个问题，在网上搜了一下发现[多说](http://dev.duoshuo.com/)，可以实现评论的功能。\n多说是通过在你的页面当中内嵌一个多说的JS来实现评论的功能。所以我们需要将多说的JS内嵌到我们的hexo创建的博客当中。\n\n### 1. 多说添加网站\n当然，首先我们需要在多说添加一个网站，http://duoshuo.com/create-site/，在此页面添加你自己的网站信息。\n\n### 2. 拷贝通用代码\n然后进入对应的管理后台，选择 `工具` -- `获取代码` -- `通用代码`, 然后可以查看到多说需要你在你的页面中插入的代码。\n\n### 3. 修改_config.xml\n到hexo你的博客的根目录，在_config.xml里面新增一个变量，如duoshuo_shortname: your-short-name-in-duo-shuo。这个变量名是随便起的，但是要跟下一步对应起来。变量值，是你在第1步当中输入的多说域名。\n\n### 4. 修改主题中评论代码\n到hexo当中找到你选用的themes的文件夹，比如我用的是light的主题，则在themes/light/layout/_partial/comment.ejs, 其实不同的主题，对应的文件是不一样的，这一步就需要大家稍微去看一下里面的代码。比如我这边light主题comment.ejs里面其实已经有light主题内置的facebook或disqus评论组件，然并卵，这是一个不存在的网站。\n原始代码是：\n```javascript\n<% if (page.comments){ %>\n<section id=\"comment\">\n  <h1 class=\"title\"><%= __('comment') %></h1>\n\n  <% if (theme.comment_provider == \"facebook\") {\n      if (theme.facebook) { %>\n      <%- partial('_partial/facebook_comment', {fbConfig: theme.facebook}) %>\n      <% } %>\n  <% } else if(config.disqus_shortname) { %>\n  <div id=\"disqus_thread\">\n    <noscript>Please enable JavaScript to view the <a href=\"//disqus.com/?ref_noscript\">comments powered by Disqus.</a></noscript>\n  </div>\n  <% } %>\n</section>\n<% } %>\n```\n在度娘搜示例的时候，里面出现的变量是post，如果二话不说，将代码直接替换，hexo编译的时候会出问题。如[多说官方](http://dev.duoshuo.com/threads/541d3b2b40b5abcd2e4df0e9)提供了这个示例。\n```javascript\n<% if (!index && post.comments && config.duoshuo_shortname){ %>\n  <section id=\"comments\">\n    <!-- 多说评论框 start -->\n    <div class=\"ds-thread\" data-thread-key=\"<%= post.layout %>-<%= post.slug %>\" data-title=\"<%= post.title %>\" data-url=\"<%= page.permalink %>\"></div>\n    <!-- 多说评论框 end -->\n    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->\n    <script type=\"text/javascript\">\n    var duoshuoQuery = {short_name:'<%= config.duoshuo_shortname %>'};\n      (function() {\n        var ds = document.createElement('script');\n        ds.type = 'text/javascript';ds.async = true;\n        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';\n        ds.charset = 'UTF-8';\n        (document.getElementsByTagName('head')[0]\n         || document.getElementsByTagName('body')[0]).appendChild(ds);\n      })();\n      </script>\n    <!-- 多说公共JS代码 end -->\n  </section>\n  <% } %>\n```\n相信熟悉ejs模板语言的都清楚，如果调用comment.ejs的地方没有传入post参数，则在当前页面不能调用这个值。我们看一下发现在article.ejs当中有调用comment.ejs。最下面一行，`<%- partial('comment') %>`，在页面当中有传入item的值，并且我们简单看了一下item的一些属性值和post有点像，我们大胆地将最后一行改成`<%- partial('comment', { post: item }) %>`，然后运行一下` hexo g `，发现可行。这样就改好了。\n\n其实对于其他类型的themes其实也是一样的。看一下代码改改变量就ok了。\n按照之上几步就可以在hexo博客当中插入多说评论。大家有问题欢迎评论。谢谢：)。\n\n> 更多的信息请查看 http://ibruce.info/2013/11/22/hexo-your-blog/\n","source":"_posts/duoshuo.md","raw":"title: 接入多说评论\ndate: 2015-09-04 17:22:16\ntags: 多说\n---\n\n我这个blog是基于[hexo](http://hexo.io)构建的，是纯静态html的。所以评论就是一个问题，在网上搜了一下发现[多说](http://dev.duoshuo.com/)，可以实现评论的功能。\n多说是通过在你的页面当中内嵌一个多说的JS来实现评论的功能。所以我们需要将多说的JS内嵌到我们的hexo创建的博客当中。\n\n### 1. 多说添加网站\n当然，首先我们需要在多说添加一个网站，http://duoshuo.com/create-site/，在此页面添加你自己的网站信息。\n\n### 2. 拷贝通用代码\n然后进入对应的管理后台，选择 `工具` -- `获取代码` -- `通用代码`, 然后可以查看到多说需要你在你的页面中插入的代码。\n\n### 3. 修改_config.xml\n到hexo你的博客的根目录，在_config.xml里面新增一个变量，如duoshuo_shortname: your-short-name-in-duo-shuo。这个变量名是随便起的，但是要跟下一步对应起来。变量值，是你在第1步当中输入的多说域名。\n\n### 4. 修改主题中评论代码\n到hexo当中找到你选用的themes的文件夹，比如我用的是light的主题，则在themes/light/layout/_partial/comment.ejs, 其实不同的主题，对应的文件是不一样的，这一步就需要大家稍微去看一下里面的代码。比如我这边light主题comment.ejs里面其实已经有light主题内置的facebook或disqus评论组件，然并卵，这是一个不存在的网站。\n原始代码是：\n```javascript\n<% if (page.comments){ %>\n<section id=\"comment\">\n  <h1 class=\"title\"><%= __('comment') %></h1>\n\n  <% if (theme.comment_provider == \"facebook\") {\n      if (theme.facebook) { %>\n      <%- partial('_partial/facebook_comment', {fbConfig: theme.facebook}) %>\n      <% } %>\n  <% } else if(config.disqus_shortname) { %>\n  <div id=\"disqus_thread\">\n    <noscript>Please enable JavaScript to view the <a href=\"//disqus.com/?ref_noscript\">comments powered by Disqus.</a></noscript>\n  </div>\n  <% } %>\n</section>\n<% } %>\n```\n在度娘搜示例的时候，里面出现的变量是post，如果二话不说，将代码直接替换，hexo编译的时候会出问题。如[多说官方](http://dev.duoshuo.com/threads/541d3b2b40b5abcd2e4df0e9)提供了这个示例。\n```javascript\n<% if (!index && post.comments && config.duoshuo_shortname){ %>\n  <section id=\"comments\">\n    <!-- 多说评论框 start -->\n    <div class=\"ds-thread\" data-thread-key=\"<%= post.layout %>-<%= post.slug %>\" data-title=\"<%= post.title %>\" data-url=\"<%= page.permalink %>\"></div>\n    <!-- 多说评论框 end -->\n    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->\n    <script type=\"text/javascript\">\n    var duoshuoQuery = {short_name:'<%= config.duoshuo_shortname %>'};\n      (function() {\n        var ds = document.createElement('script');\n        ds.type = 'text/javascript';ds.async = true;\n        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';\n        ds.charset = 'UTF-8';\n        (document.getElementsByTagName('head')[0]\n         || document.getElementsByTagName('body')[0]).appendChild(ds);\n      })();\n      </script>\n    <!-- 多说公共JS代码 end -->\n  </section>\n  <% } %>\n```\n相信熟悉ejs模板语言的都清楚，如果调用comment.ejs的地方没有传入post参数，则在当前页面不能调用这个值。我们看一下发现在article.ejs当中有调用comment.ejs。最下面一行，`<%- partial('comment') %>`，在页面当中有传入item的值，并且我们简单看了一下item的一些属性值和post有点像，我们大胆地将最后一行改成`<%- partial('comment', { post: item }) %>`，然后运行一下` hexo g `，发现可行。这样就改好了。\n\n其实对于其他类型的themes其实也是一样的。看一下代码改改变量就ok了。\n按照之上几步就可以在hexo博客当中插入多说评论。大家有问题欢迎评论。谢谢：)。\n\n> 更多的信息请查看 http://ibruce.info/2013/11/22/hexo-your-blog/\n","slug":"duoshuo","published":1,"updated":"2015-09-04T13:56:39.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cie5pi4rn0006kkb956yi7aq4"},{"title":"Velocity会议总结","date":"2015-08-19T11:52:16.000Z","_content":"\n关键词：https优化，前端加载优化，hybrid，APM(application performance monitor）。\n\n1. https优化。\n> - HttpDNS, 通过http方式向第三方的固定IP方式来获取指定域名的IP来进行DNS解析[^httpDNS]（我们可以考虑在客户端新增HttpDNS）\n> - 启用HSTS[^HSTS] （我们尚未全站启用https，所以这个不太好启动）\n> - 启用OCSP Stapling[^OCSP]（可以采用，但需要查看兼容性以及要及时更新签名，以及注意证书链大小）\n> - 复用session，减少握手次数\n> - 精确设置TLS Record Size，size过小，overhead比重增大，size过大，单record的TCP分段过多\n> - TLS硬件加速\n> - SPDY/HTTP2.0，可以研究，但近期可能用不上。\n> - 配置Forward secrecy cipher 支持False start[^falsestart]  （可以采用，省掉一个RTT时间）\n> - 升级openssl版本到最新（我们的版本是openssl-1.0.2c）\n> - 确认TLS压缩禁用（nginx 1.3.x以上版本都自动关闭，不关闭有漏洞，我们nginx是1.6.3）\n> - 确认SNI支持 （已支持，多个证书部署在同一个IP上）\n> - 使用 **//**，来引用静态资源文件，保证http能无缝迁到https环境（我们已经使用了，但是一个360的同僚说在某些地方的移动运营商会将**//** 篡改为 **/**。但是iPhone5s 上海中国移动未发现问题）。\n> ![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0612.JPG)\n\n2. 页面直出方法，对比？\n> - nginx + lua 页面直出（京东618采用）\n> ![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0571.JPG)\n> - ATS （apache traffic server）页面直出（Yahoo采用）\n> - nodejs直出\n\n3. 前端加载优化\n> - ebay优化尝试：DSA（dynamic site accelerate）动态加速，加快页面加载，采用WebP格式优化图片大小（理论能优化到以前60%大小）。\n> - composition layer，z-index相同导致的渲染变慢（阿里分享），可查看 [css conf](http://www.w3ctech.com/topic/1463) 360的分享有讨论此问题。\n\n4. hybrid\n> - 百度 Blend UI系统架构。通过封装统一JS UI API，如果是在百度app内部的webview，则调用的是原生的UI样式，否则调用的是JS统一的UI样式[^blendUI]\n> - Yahoo 采用reactjs + [flux](https://facebook.github.io/flux/)\n\n\n5. APM\n> - 今年的趋势是APM（application performance monitor），赞助商基本都是APM厂商（云智慧，性能魔方，性能极客，OneAPM，野狗等）。\n> - 我们正在试用[OneAPM](https://tpm.oneapm.com/tpm/account/717715137/browser/1326753/overview/#/)进行页面加载测试。\n\n#### 总结：\n\n##### 一些方法论：\n> - 保持simplicity\n> ![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0560.JPG)\n> - build high performance team\n> ![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0585.JPG)\n> - 优化问题方法论\n> ![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0616.JPG)\n\n\n##### 我们暂时能够跟进的：\n> - 客户端采用http协议的httpDNS来加速DNS查询，能有效防止之前DNS解析问题。\n> - https优化全部跟进，已将dev全部改成TLSv1.2，排期全部改造并上线。\n> - CDN动态加速（DSA）咨询，并开启。\n> - hybrid现阶段讨论结果是采用PhoneGap。\n> - 试用OneAPM跟进数据，然后基于数据进行优化。\n\n\n##### 一些有用的网站分享：\n1. 关于html标准的网站。\n> - [specifiction](http://specifiction.wicg.io)|[Discourse](http://discourse.wicg.io) ask question\n> - Contribute tests on [testthewebforward](http://testthewebforward.org)\n> - [W3 Community](http://www.w3.org/community/wicg)\n> - [extensiblewebmanifesto](http://extensiblewebmanifesto.org)\n> - [webcomponents](http://webcomponents.org)\n\n2. [SSLLabs](https://ssllabs.com/) 查看你的网站https安不安全\n3. [百度https实践](http://op.baidu.com/2015/04/https-s01a01/)\n\n[^httpDNS]: 这种方式可以解释我们之前域名被加黑名单的问题，但是如果又新增加域名，得客户端随时修改，建议通过下发方式来实现新域名prefetch。\n\n[^HSTS]: HTTP Strict Transport Security。我们现在请求http的站点时，会自动跳转到https的页面，其实这一步是存在安全风险的，但是通过HSTS，设置响应头Strict-Transport-Security: max-age=31536000; includeSubDomains，可保证用户即使输入http页面，也在浏览器级别会自动请求https页面，不需要经过服务器跳转。\n\n[^OCSP]: 浏览器在下载服务端的证书之后会向证书发行商验证证书的合法性。因为是向国外网站验证，所以速度慢并存在着失败的可能性。所以可用的做法是在服务器端预先向服务器进行验证，然后打包证书供浏览器下载，这样浏览器就不用再去验证证书的合法性。注意，有效期大概为1个月。详见[网址](https://blog.xjpvictor.info/2013/09/nginx-ocsp-stapling/)。\n\n[^falsestart]: 查看[网址](http://chimera.labs.oreilly.com/books/1230000000545/ch04.html)，啥是false start（抢跑）。\n\n[^blendUI]: 百度blendUI详细如下：\n![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0593.JPG)\n![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0594.JPG)\n![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0595.JPG)\n![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0596.JPG)\n![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0597.JPG)\n\n","source":"_posts/Velocity大会总结.md","raw":"title:  Velocity会议总结\ndate: 2015-08-19 19:52:16\ntags: velocity\n---\n\n关键词：https优化，前端加载优化，hybrid，APM(application performance monitor）。\n\n1. https优化。\n> - HttpDNS, 通过http方式向第三方的固定IP方式来获取指定域名的IP来进行DNS解析[^httpDNS]（我们可以考虑在客户端新增HttpDNS）\n> - 启用HSTS[^HSTS] （我们尚未全站启用https，所以这个不太好启动）\n> - 启用OCSP Stapling[^OCSP]（可以采用，但需要查看兼容性以及要及时更新签名，以及注意证书链大小）\n> - 复用session，减少握手次数\n> - 精确设置TLS Record Size，size过小，overhead比重增大，size过大，单record的TCP分段过多\n> - TLS硬件加速\n> - SPDY/HTTP2.0，可以研究，但近期可能用不上。\n> - 配置Forward secrecy cipher 支持False start[^falsestart]  （可以采用，省掉一个RTT时间）\n> - 升级openssl版本到最新（我们的版本是openssl-1.0.2c）\n> - 确认TLS压缩禁用（nginx 1.3.x以上版本都自动关闭，不关闭有漏洞，我们nginx是1.6.3）\n> - 确认SNI支持 （已支持，多个证书部署在同一个IP上）\n> - 使用 **//**，来引用静态资源文件，保证http能无缝迁到https环境（我们已经使用了，但是一个360的同僚说在某些地方的移动运营商会将**//** 篡改为 **/**。但是iPhone5s 上海中国移动未发现问题）。\n> ![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0612.JPG)\n\n2. 页面直出方法，对比？\n> - nginx + lua 页面直出（京东618采用）\n> ![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0571.JPG)\n> - ATS （apache traffic server）页面直出（Yahoo采用）\n> - nodejs直出\n\n3. 前端加载优化\n> - ebay优化尝试：DSA（dynamic site accelerate）动态加速，加快页面加载，采用WebP格式优化图片大小（理论能优化到以前60%大小）。\n> - composition layer，z-index相同导致的渲染变慢（阿里分享），可查看 [css conf](http://www.w3ctech.com/topic/1463) 360的分享有讨论此问题。\n\n4. hybrid\n> - 百度 Blend UI系统架构。通过封装统一JS UI API，如果是在百度app内部的webview，则调用的是原生的UI样式，否则调用的是JS统一的UI样式[^blendUI]\n> - Yahoo 采用reactjs + [flux](https://facebook.github.io/flux/)\n\n\n5. APM\n> - 今年的趋势是APM（application performance monitor），赞助商基本都是APM厂商（云智慧，性能魔方，性能极客，OneAPM，野狗等）。\n> - 我们正在试用[OneAPM](https://tpm.oneapm.com/tpm/account/717715137/browser/1326753/overview/#/)进行页面加载测试。\n\n#### 总结：\n\n##### 一些方法论：\n> - 保持simplicity\n> ![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0560.JPG)\n> - build high performance team\n> ![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0585.JPG)\n> - 优化问题方法论\n> ![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0616.JPG)\n\n\n##### 我们暂时能够跟进的：\n> - 客户端采用http协议的httpDNS来加速DNS查询，能有效防止之前DNS解析问题。\n> - https优化全部跟进，已将dev全部改成TLSv1.2，排期全部改造并上线。\n> - CDN动态加速（DSA）咨询，并开启。\n> - hybrid现阶段讨论结果是采用PhoneGap。\n> - 试用OneAPM跟进数据，然后基于数据进行优化。\n\n\n##### 一些有用的网站分享：\n1. 关于html标准的网站。\n> - [specifiction](http://specifiction.wicg.io)|[Discourse](http://discourse.wicg.io) ask question\n> - Contribute tests on [testthewebforward](http://testthewebforward.org)\n> - [W3 Community](http://www.w3.org/community/wicg)\n> - [extensiblewebmanifesto](http://extensiblewebmanifesto.org)\n> - [webcomponents](http://webcomponents.org)\n\n2. [SSLLabs](https://ssllabs.com/) 查看你的网站https安不安全\n3. [百度https实践](http://op.baidu.com/2015/04/https-s01a01/)\n\n[^httpDNS]: 这种方式可以解释我们之前域名被加黑名单的问题，但是如果又新增加域名，得客户端随时修改，建议通过下发方式来实现新域名prefetch。\n\n[^HSTS]: HTTP Strict Transport Security。我们现在请求http的站点时，会自动跳转到https的页面，其实这一步是存在安全风险的，但是通过HSTS，设置响应头Strict-Transport-Security: max-age=31536000; includeSubDomains，可保证用户即使输入http页面，也在浏览器级别会自动请求https页面，不需要经过服务器跳转。\n\n[^OCSP]: 浏览器在下载服务端的证书之后会向证书发行商验证证书的合法性。因为是向国外网站验证，所以速度慢并存在着失败的可能性。所以可用的做法是在服务器端预先向服务器进行验证，然后打包证书供浏览器下载，这样浏览器就不用再去验证证书的合法性。注意，有效期大概为1个月。详见[网址](https://blog.xjpvictor.info/2013/09/nginx-ocsp-stapling/)。\n\n[^falsestart]: 查看[网址](http://chimera.labs.oreilly.com/books/1230000000545/ch04.html)，啥是false start（抢跑）。\n\n[^blendUI]: 百度blendUI详细如下：\n![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0593.JPG)\n![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0594.JPG)\n![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0595.JPG)\n![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0596.JPG)\n![enter image description here](http://7xkybo.com1.z0.glb.clouddn.com/IMG_0597.JPG)\n\n","slug":"Velocity大会总结","published":1,"updated":"2015-09-04T10:10:59.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cie5pi4rq0009kkb98zxi564q"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cie5pi4rb0002kkb9eo9sds5j","tag_id":"cie5pi4rg0003kkb9iwrum8ra","_id":"cie5pi4rh0004kkb9a5ck5wpc"},{"post_id":"cie5pi4rn0006kkb956yi7aq4","tag_id":"cie5pi4ro0007kkb97qsemwr0","_id":"cie5pi4rp0008kkb9epq915g3"},{"post_id":"cie5pi4rq0009kkb98zxi564q","tag_id":"cie5pi4rr000akkb9cyaife8t","_id":"cie5pi4rs000bkkb9p2kwx2mh"}],"Tag":[{"name":"reactjs","_id":"cie5pi4rg0003kkb9iwrum8ra"},{"name":"多说","_id":"cie5pi4ro0007kkb97qsemwr0"},{"name":"velocity","_id":"cie5pi4rr000akkb9cyaife8t"}]}}